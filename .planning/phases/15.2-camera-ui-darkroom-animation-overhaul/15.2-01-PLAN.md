---
phase: 15.2-camera-ui-darkroom-animation-overhaul
plan: 01
type: execute
---

<objective>
Redesign camera footer layout and controls for a more polished, native-feeling interface.

Purpose: The current camera UI has a debug button, rectangular floating controls, and square camera preview. This redesign creates a cleaner footer covering ~1/3 of screen with iOS-native aesthetics: larger capture button with ring, smaller circular flash/flip buttons, rounded camera preview, and zoom control bar.

Output: Updated CameraScreen with redesigned footer layout and controls.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-background-photo-upload/15-01-SUMMARY.md

**Key Files:**
@src/screens/CameraScreen.js - Main camera screen with footer and controls

**Tech Available:**
- React Native Animated API (already in use)
- expo-camera with CameraView
- react-native-svg for icons
- StyleSheet for layouts

**Established Patterns:**
- Absolute positioning for CameraView overlays
- SVG icons with 24x24 viewBox, 1.5 strokeWidth
- TAB_BAR_HEIGHT = 65px constant
</context>

<tasks>

<task type="auto">
  <name>Task 1: Expand footer and redesign capture button</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
1. Update FOOTER_HEIGHT constant to cover ~1/3 of screen (approximately 280-300px)
2. Recalculate CAMERA_HEIGHT based on new footer size
3. Remove the debug button (ðŸŒ™) entirely from footerControls
4. Redesign capture button:
   - Increase from 80px to 88px (10% larger)
   - Add thin spaced ring: outer border (2px stroke, 4px gap from button edge)
   - Keep white fill, add subtle shadow for depth
5. Update footerBar backgroundColor to match nav bar (#1A1A1A already matches)
6. Adjust footerControls layout: only Darkroom button and Capture button remain in this task

Avoid: Don't change the darkroom button design yet (that's Plan 02). Just remove the debug button and update capture button styling.
  </action>
  <verify>App runs, capture button is 10% larger with ring, debug button removed, footer covers ~1/3 of screen</verify>
  <done>Footer expanded, capture button redesigned with ring, debug button removed</done>
</task>

<task type="auto">
  <name>Task 2: Redesign flash/flip buttons as circles and add rounded camera preview</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
1. Reposition flash and flip buttons from floatingControls to footerBar (move them into the footer area)
2. Resize buttons: reduce from current size to ~50px diameter (10% smaller than original 56px)
3. Change from rounded rectangles to perfect circles (borderRadius = width/2)
4. Position: flash button far left of footer, flip button far right of footer, with capture and darkroom buttons centered
5. Update floatingButton styles to be circular with consistent dark background
6. Add borderRadius to camera preview: modify camera style to have rounded corners (24px border radius)
7. Wrap CameraView in a View with overflow: 'hidden' to clip rounded corners (CameraView doesn't support borderRadius directly)
8. Add 16px margin around camera preview for visual breathing room

Avoid: Don't use any new libraries. Use existing StyleSheet patterns. Don't change zoom control yet.
  </action>
  <verify>App runs, flash/flip buttons are smaller circles in footer, camera preview has rounded edges</verify>
  <done>Flash/flip buttons redesigned as 50px circles in footer, camera preview has 24px rounded corners</done>
</task>

<task type="auto">
  <name>Task 3: Add iOS-style zoom control bar</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
1. Add zoom state variable with default value 1 (representing 1x zoom)
2. Define zoom levels array: [0.5, 1, 2, 3] for ultra-wide, standard, 2x, 3x
3. Create ZoomControlBar component:
   - Rounded rectangular container (same height as flash/flip buttons ~50px)
   - Horizontal row of zoom level buttons
   - Active level highlighted (white text on dark background, inactive is grey)
   - Smooth press feedback with opacity change
4. Position zoom bar centered horizontally, above the main footer controls row
5. Wire up zoom to CameraView's zoom prop (expo-camera supports zoom 0-1 range, map 0.5x-3x to 0-1)
6. Add gentle haptic feedback on zoom level change (use existing haptics utility if available, otherwise light impact)

Zoom mapping: 0.5x = zoom: 0, 1x = zoom: 0.17, 2x = zoom: 0.33, 3x = zoom: 0.5 (expo-camera zoom is 0-1 where 1 is max optical zoom)

Avoid: Don't implement pinch-to-zoom gesture (out of scope). Simple tap-to-select zoom levels only.
  </action>
  <verify>App runs, zoom bar appears with 4 levels, tapping changes zoom level visually and functionally</verify>
  <done>Zoom control bar with 0.5x/1x/2x/3x levels, connected to camera zoom</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Footer covers approximately 1/3 of screen height
- [ ] Debug button removed from footer
- [ ] Capture button is 10% larger with thin spaced ring
- [ ] Flash and flip buttons are smaller circles (50px) positioned in footer
- [ ] Camera preview has rounded corners (24px radius)
- [ ] Zoom control bar displays 4 zoom levels
- [ ] Zoom levels functionally change camera zoom
- [ ] App runs without errors or warnings
</verification>

<success_criteria>

- All 3 tasks completed
- Footer layout matches design spec (~1/3 screen, no debug button)
- Capture button visually distinct with ring styling
- Camera preview has rounded edges
- Zoom control is functional and visually clean
- No regression in camera capture functionality
</success_criteria>

<output>
After completion, create `.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-01-SUMMARY.md`
</output>
