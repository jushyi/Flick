---
phase: 15.2-camera-ui-darkroom-animation-overhaul
plan: 03
type: execute
---

<objective>
Replace snapshot-to-darkroom animation with bounce effect on darkroom card.

Purpose: The current animation shows the captured photo flying from center to the darkroom button. This creates visual complexity and delay. A simpler bounce animation on the darkroom card button provides instant, satisfying feedback that a photo was captured without blocking the camera.

Output: New capture animation using card bounce instead of flying photo.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-01-PLAN.md
@.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-02-PLAN.md

**Key Files:**
@src/screens/CameraScreen.js - Contains playPhotoAnimation and related animated values

**Current Animation Flow:**
1. Flash effect fires immediately (stays)
2. Photo captured, playPhotoAnimation called
3. Photo shrinks and flies to darkroom button (REMOVE)
4. Badge bounce when photo "lands" (KEEP but apply to card instead)

**New Animation Flow:**
1. Flash effect fires immediately (stays)
2. Photo captured, playCardBounce called
3. Card button does bounce animation (scale up then down)
4. Optimistic count update happens
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove flying photo animation and simplify capture flow</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
1. Remove playPhotoAnimation function entirely
2. Remove animated photo state and refs:
   - capturedPhoto state
   - animatedValue ref
   - All interpolations: photoScale, photoTranslateY, photoTranslateX, photoOpacity, photoRotate
3. Remove the Animated Photo JSX block (the flying photo element)
4. Remove styles.animatedPhoto and styles.photoSnapshot
5. Keep playFlashEffect (still provides instant feedback)
6. Keep playBadgeBounce and rename to playCardBounce for clarity
7. Update takePicture to call playCardBounce instead of playPhotoAnimation

The flow should now be: capture → flash → addToQueue → playCardBounce → optimistic count update

Avoid: Don't remove the badgeBounce ref and animation - just rename and keep it. The bounce animation is key feedback.
  </action>
  <verify>App runs, photo capture works, no flying animation, flash still fires</verify>
  <done>Flying photo animation removed, capture flow simplified</done>
</task>

<task type="auto">
  <name>Task 2: Enhance card bounce animation for capture feedback</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
1. Rename badgeBounce to cardBounce for clarity (throughout file)
2. Rename playBadgeBounce to playCardBounce
3. Enhance bounce animation to be more visible on the card:
   - Scale up to 1.15-1.2 (not 1.3 - more subtle for card)
   - Use spring animation with friction: 4, tension: 200 for snappy feel
   - Spring back to 1.0 with friction: 5, tension: 100
4. Ensure DarkroomCardButton receives and uses the cardBounce animated value
5. Apply transform: [{ scale: cardBounce }] to the entire card stack container
6. Trigger playCardBounce immediately after takePicture success (not after animation delay)
7. Add subtle haptic feedback (expo-haptics impactLight) on bounce

The bounce should feel like the card is "receiving" the photo - a quick satisfying pulse.

Avoid: Don't make the bounce too dramatic - it should be quick and subtle. Don't add multiple bounces.
  </action>
  <verify>App runs, capturing photo triggers visible bounce on card stack, haptic fires</verify>
  <done>Card bounce animation enhanced and triggers on capture</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Simplified capture animation with card bounce feedback</what-built>
  <how-to-verify>
    1. Run: npx expo start (or dev server already running)
    2. Open app on device/simulator
    3. Navigate to Camera tab
    4. Take a photo:
       - Should see white flash immediately
       - NO flying photo animation (removed)
       - Card stack should bounce/pulse
       - Should feel haptic feedback
       - Count should increment on card
    5. Take several photos rapidly:
       - Each should trigger flash + bounce
       - Camera should feel responsive (no delays)
    6. Confirm the new flow feels snappy and satisfying
  </how-to-verify>
  <resume-signal>Type "approved" if capture feels good, or describe issues with timing/feedback</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Flying photo animation completely removed
- [ ] No console errors about removed animated values
- [ ] Flash effect still fires on capture
- [ ] Card bounce triggers on capture
- [ ] Haptic feedback on bounce
- [ ] Count increments after capture
- [ ] Camera remains responsive
- [ ] Human verification approved
</verification>

<success_criteria>

- Flying photo animation removed
- Card bounce animation implemented
- Capture feels instant and responsive
- User approves the new capture feedback
- Phase 15.2 complete
</success_criteria>

<output>
After completion, create `.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-03-SUMMARY.md`

Final summary should note:
- Phase 15.2 complete, ready for Phase 16
</output>
