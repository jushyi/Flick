---
phase: 36-comments-feature
plan: 36-03-FIX-5
type: fix
---

<objective>
Fix 4 UAT issues from Round 6 testing.

Source: 36-03-ISSUES.md
Priority: 1 blocker, 0 major, 3 cosmetic
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/36-comments-feature/36-03-ISSUES.md

**Original plan for reference:**
@.planning/phases/36-comments-feature/36-03-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix UAT-028 - PhotoDetailModal swipe-to-close not responding in feed mode (BLOCKER)</name>
  <files>src/components/PhotoDetailModal.js</files>
  <action>
The issue: In feed mode, swipe-to-close doesn't work because the photo View doesn't track touches, so move events aren't generated for the panResponder.

Root cause: Stories mode uses TouchableWithoutFeedback which starts touch tracking, allowing panResponder's onMoveShouldSetPanResponder to receive move events. Feed mode uses a plain View that doesn't track touches.

Fix: Wrap the feed mode photo View in TouchableWithoutFeedback with an empty onPress handler. This ensures touch tracking starts and move events are generated.

Change lines 288-296:
FROM:

```jsx
<View style={styles.photoScrollView}>
  <Image ... />
</View>
```

TO:

```jsx
<TouchableWithoutFeedback onPress={() => {}}>
  <View style={styles.photoScrollView}>
    <Image ... />
  </View>
</TouchableWithoutFeedback>
```

Alternative (cleaner): Unify both modes to always use TouchableWithoutFeedback:

```jsx
<TouchableWithoutFeedback onPress={mode === 'stories' ? handleTapNavigation : undefined}>
  <View style={styles.photoScrollView}>
    <Image ... />
  </View>
</TouchableWithoutFeedback>
```

  </action>
  <verify>
1. Open a photo from Feed tab by tapping photo card
2. Swipe down on photo area - modal should close smoothly
3. Verify stories mode still works (swipe down, tap left/right for navigation)
  </verify>
  <done>Feed mode swipe-to-close works, stories mode swipe-to-close still works</done>
</task>

<task type="auto">
  <name>Task 2: Fix UAT-035 - Photo border radius too rounded</name>
  <files>src/styles/PhotoDetailModal.styles.js</files>
  <action>
The photo view borderRadius is 24 which user says is too rounded.

Change photoScrollView borderRadius from 24 to 12 for sharper corners.
</action>
<verify>Visual check - photo corners should be sharper but still rounded</verify>
<done>Photo corners are noticeably sharper (borderRadius: 12)</done>
</task>

<task type="auto">
  <name>Task 3: Fix UAT-034 - Stories modal user info and preview too low</name>
  <files>src/components/PhotoDetailModal.js</files>
  <action>
User info and preview are too low in stories mode.

Current values at line 316:

- bottom: 115 (with comments)
- bottom: 95 (without comments)

Increase these values to move content up:

- bottom: 130 (with comments)
- bottom: 110 (without comments)

This creates ~15px upward shift.
</action>
<verify>

1. Open story photo modal
2. Check user info position - should be higher than before
3. Check with comments visible - should also be higher
   </verify>
   <done>User info and preview positioned higher (bottom values increased by 15px)</done>
   </task>

<task type="auto">
  <name>Task 4: Fix UAT-031 - Comment dot/timestamp too far right</name>
  <files>src/styles/CommentRow.styles.js</files>
  <action>
The dot separator between Reply and timestamp has marginHorizontal: 2 which user says is still too wide.

Change dot style marginHorizontal from 2 to 0 for minimal spacing:

```javascript
dot: {
  fontSize: 12,
  color: colors.text.tertiary,
  marginHorizontal: 0, // UAT-031 fix: removed margin entirely
},
```

The replyButton already has paddingRight: 8 which provides left spacing before the dot.
</action>
<verify>Visual check - dot and timestamp should be closer to Reply button</verify>
<done>Dot/timestamp spacing minimized (marginHorizontal: 0)</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] UAT-028 fixed: Feed mode swipe-to-close works
- [ ] UAT-035 fixed: Photo corners are sharper
- [ ] UAT-034 fixed: User info positioned higher in stories mode
- [ ] UAT-031 fixed: Comment dot/timestamp spacing reduced
- [ ] Stories mode still works (tap navigation, swipe-to-close)
- [ ] Feed mode still works (photo opens, reactions work)
</verification>

<success_criteria>

- All 4 UAT issues from Round 6 addressed
- Both feed and stories mode functionality intact
- Ready for re-verification
  </success_criteria>

<output>
After completion, create `.planning/phases/36-comments-feature/36-03-FIX-5-SUMMARY.md`
</output>
