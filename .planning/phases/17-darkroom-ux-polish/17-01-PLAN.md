---
phase: 17-darkroom-ux-polish
plan: 01
type: execute
---

<objective>
Remove friction from triage flow: eliminate confirmation popups, add button triage options, remove debug button, and adjust photo card sizing.

Purpose: Make triage feel instant and responsive - swipes should complete without interruption.
Output: DarkroomScreen and SwipeablePhotoCard with instant triage, button alternatives, and cleaner UI.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/17-darkroom-ux-polish/17-CONTEXT.md

# Key files from prior phases:
@src/screens/DarkroomScreen.js
@src/components/SwipeablePhotoCard.js

# Established patterns:
**Tech stack available:** react-native-gesture-handler, expo-haptics, Animated API
**Patterns:** Swipeable component for left/right actions, medium impact haptics on swipe completion

# Key context from 17-CONTEXT.md:
- Remove ALL confirmation popups (Alert.alert calls after triage)
- Add button triage: Delete (circle center), Journal (rounded rect right), Archive (rounded rect left)
- Photo cards should be taller and wider with slight black border
- Remove debug button from DarkroomScreen header
- User prioritizes speed over safety - undo comes in Phase 18.1
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove confirmation popups and debug button</name>
  <files>src/screens/DarkroomScreen.js</files>
  <action>
1. In handleTriage function: Remove the Alert.alert('Success', ...) call entirely - swipes should be silent
2. In the Delete button's onPress: Remove the Alert.alert confirmation dialog - delete should be instant like swipes
3. In the header: Remove the debugButton TouchableOpacity and debugDarkroom function entirely
4. In empty state: Remove the debug button TouchableOpacity from empty state header
5. Remove debugButtonLarge, debugButtonText, debugButton, debugButtonIcon from styles

Why no confirmations: User explicitly requested speed over safety. Undo comes in Phase 18.1.
  </action>
  <verify>npm run lint:check 2>/dev/null || echo "no lint script"; grep -c "Alert.alert" src/screens/DarkroomScreen.js should return 0</verify>
  <done>Zero Alert.alert calls in DarkroomScreen.js, debug button removed from both header states</done>
</task>

<task type="auto">
  <name>Task 2: Add button triage alternatives below photo card</name>
  <files>src/screens/DarkroomScreen.js</files>
  <action>
Replace the single Delete button with a three-button triage bar:

Layout (horizontal row below photo card):
- Archive button (left): Rounded rectangle, gray background (#8E8E93), box icon
- Delete button (center): Circle button, red background (#FF3B30), X icon
- Journal button (right): Rounded rectangle, green background (#34C759), checkmark circle icon

Button specs:
- Archive/Journal: width ~100px, height ~50px, borderRadius 25
- Delete: width 56px, height 56px, borderRadius 28 (circle)
- Icons: Use text characters - "☐" for archive, "✕" for delete, "✓" for journal (or SF Symbols if available)
- All buttons call handleTriage with appropriate action

Add haptic feedback (Haptics.impactAsync Light) on button press for consistency with swipe actions.

Style the row with justifyContent: 'space-between', paddingHorizontal: 40, marginBottom: 24
  </action>
  <verify>Visual inspection: Three buttons visible below photo card in darkroom</verify>
  <done>Archive/Delete/Journal buttons appear in row below photo, all trigger triage with haptic feedback</done>
</task>

<task type="auto">
  <name>Task 3: Adjust photo card sizing for taller/wider appearance</name>
  <files>src/components/SwipeablePhotoCard.js</files>
  <action>
Increase photo card size and add black border:

1. Change photoCard width from 0.9 to 0.92 of SCREEN_WIDTH (slightly wider)
2. Change photoImage aspectRatio from 3/4 (0.75) to 4/5 (0.8) for taller appearance
3. Add borderWidth: 2 and borderColor: '#000000' to photoCard style
4. Ensure overflow: 'hidden' remains to clip image to rounded corners

This makes photos more prominent and immersive in the triage view.
  </action>
  <verify>Visual inspection: Photo cards appear taller and wider with visible black border</verify>
  <done>Photo cards are 92% screen width, 4:5 aspect ratio, with 2px black border</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] No Alert.alert calls in DarkroomScreen.js (grep returns 0)
- [ ] Debug button removed from both header states (main and empty)
- [ ] Three triage buttons visible below photo card
- [ ] Each button triggers correct triage action with haptic feedback
- [ ] Photo cards visually larger with black border
- [ ] App runs without errors
</verification>

<success_criteria>
- All tasks completed
- Zero confirmation popups on any triage action
- Button triage works as alternative to swipes
- Debug button removed entirely
- Photo cards have new sizing
</success_criteria>

<output>
After completion, create `.planning/phases/17-darkroom-ux-polish/17-01-SUMMARY.md` following the summary template.
</output>
