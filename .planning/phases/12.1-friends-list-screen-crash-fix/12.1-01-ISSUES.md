# UAT Issues: Phase 12.1 Plan 01

**Tested:** 2026-01-19
**Source:** .planning/phases/12.1-friends-list-screen-crash-fix/12.1-01-SUMMARY.md
**Tester:** User via /gsd:verify-work

## Open Issues

[None - all issues resolved]

## Resolved Issues

### UAT-001: Filter.where is not a function - FriendsListScreen still crashes

**Discovered:** 2026-01-19
**Resolved:** 2026-01-19
**Phase/Plan:** 12.1-01-FIX
**Severity:** Blocker
**Feature:** FriendsListScreen loading
**Description:** FriendsListScreen crashes on load with ErrorBoundary. The fix applied for Filter.or is not working correctly.
**Expected:** FriendsListScreen loads showing friends list or empty state
**Actual:** Screen crashes with error: `TypeError: firestore.default.Filter.where is not a function (it is undefined)`
**Repro:**
1. Launch app
2. Navigate to Friends tab
3. Screen immediately crashes to ErrorBoundary

**Root Cause:** Both the named Filter import and `firestore.Filter.or()` patterns don't work in React Native Firebase v22+. The modular API exports `or` and `where` as standalone functions that compose directly.

**Solution Applied:**
1. Added `or` to named imports: `import { ..., or, where } from '@react-native-firebase/firestore'`
2. Changed query pattern from `where(firestore.Filter.or(firestore.Filter.where(...)))` to `or(where(...), where(...))`
3. Fixed all 3 locations: getFriendships, getPendingRequests, subscribeFriendships

**Fix Commit:** d9e5f10

---

*Phase: 12.1-friends-list-screen-crash-fix*
*Plan: 01*
*Tested: 2026-01-19*
