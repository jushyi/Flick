---
phase: 33-feed-header-notifications
plan: 01
type: execute
---

<objective>
Create Activity page with two-tab structure (Notifications, Friends) accessed via heart icon in feed header.

Purpose: Establish the Instagram-style Activity page as a social hub combining reactions and friend management.
Output: ActivityScreen with MaterialTopTabNavigator, navigation wiring from feed header.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-feed-header-notifications/33-CONTEXT.md
@.planning/phases/32-navigation-restructure/32-01-SUMMARY.md

@src/navigation/AppNavigator.js
@src/screens/FeedScreen.js
@src/screens/NotificationsScreen.js

**Tech stack available:**

- @react-navigation/material-top-tabs for top tab navigation
- Existing bottom tab patterns in AppNavigator.js

**Established patterns:**

- Tab navigators with custom styling (MainTabNavigator)
- Stack screens for modal-style navigation
- Deep linking configuration in `linking` object

**Constraining decisions:**

- Phase 32: Friends screens moved to root stack for Activity page access
- Phase 32: Deep linking paths kept at 'friends', 'friends/search', 'friends/requests'
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create ActivityScreen with top tabs</name>
  <files>src/screens/ActivityScreen.js</files>
  <action>
Create new ActivityScreen with MaterialTopTabNavigator containing two tabs: Notifications and Friends.

1. Install @react-navigation/material-top-tabs if not present: `npx expo install @react-navigation/material-top-tabs react-native-pager-view`

2. Create ActivityScreen.js with:
   - SafeAreaView container with dark background (matching app theme)
   - Header with back button and "Activity" title
   - MaterialTopTabNavigator with two tabs:
     - "Notifications" tab (render placeholder for now - will implement in 33-02)
     - "Friends" tab (render placeholder for now - will implement in 33-02)
   - Tab bar styling:
     - Dark background (#000000)
     - Active indicator: brand purple from colors.brand.purple
     - White text for active/inactive tabs
     - Labels only (no icons)
     - Indicator style: underline

3. Create simple placeholder components:
   - NotificationsTab: View with "Notifications coming soon" text
   - FriendsTab: View with "Friends coming soon" text

Use colors from src/constants/colors.js for consistency.
</action>
<verify>File exists at src/screens/ActivityScreen.js with proper structure</verify>
<done>ActivityScreen renders with two tabs, tab switching works, styling matches dark theme</done>
</task>

<task type="auto">
  <name>Task 2: Wire navigation from feed to Activity</name>
  <files>src/navigation/AppNavigator.js, src/screens/FeedScreen.js</files>
  <action>
1. In AppNavigator.js:
   - Import ActivityScreen
   - Replace the Notifications Stack.Screen with Activity Stack.Screen
   - Keep same presentation style (slide_from_right)
   - Update deep linking config:
     - Change 'Notifications' route to 'Activity'
     - Add nested routes: Activity/Notifications, Activity/Friends
     - Keep backwards compatibility: 'notifications' deep link goes to Activity

2. In FeedScreen.js:
   - Update the heart icon onPress to navigate to 'Activity' instead of 'Notifications'
   - No other changes needed (heart icon and red dot already implemented)

3. Export ActivityScreen in src/screens/index.js if barrel export exists
   </action>
   <verify>
   Run `npx expo start`, navigate to Feed tab, tap heart icon - should open Activity screen with two tabs
   </verify>
   <done>Heart icon opens Activity screen, tabs switch correctly, back navigation works</done>
   </task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] @react-navigation/material-top-tabs installed
- [ ] ActivityScreen.js exists with proper tab structure
- [ ] Heart icon in FeedScreen navigates to Activity
- [ ] Tab switching between Notifications and Friends works
- [ ] Back button returns to Feed
- [ ] Deep linking 'notifications' still works (opens Activity)
</verification>

<success_criteria>

- ActivityScreen created with MaterialTopTabNavigator
- Two tabs render (Notifications, Friends) with placeholders
- Navigation from FeedScreen heart icon works
- Tab bar styling matches dark theme
- Deep linking updated for Activity routes
  </success_criteria>

<output>
After completion, create `.planning/phases/33-feed-header-notifications/33-01-SUMMARY.md`
</output>
